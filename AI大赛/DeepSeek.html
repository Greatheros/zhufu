<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿè¾°å åœå¡ç‰Œ - ç­”æ¡ˆä¹‹ä¹¦</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Playfair+Display:wght@400;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Playfair Display', serif;
            background-color: #0a0a1a;
            color: #e6e6ff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* æ˜Ÿç©ºèƒŒæ™¯ */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 5s infinite alternate;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        /* æ—¥æœˆåŒè¾‰ */
        .sun-moon {
            position: fixed;
            top: 5%;
            right: 8%;
            width: 200px;
            height: 200px;
            z-index: -2;
        }
        
        .sun {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ffaa33, #ff5500);
            border-radius: 50%;
            box-shadow: 0 0 40px 15px rgba(255, 100, 0, 0.5);
            animation: sun-glow 10s infinite alternate;
            top: 10px;
            right: 10px;
        }
        
        .moon {
            position: absolute;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, #ccccff, #8888cc);
            border-radius: 50%;
            box-shadow: 0 0 30px 10px rgba(150, 150, 255, 0.4);
            animation: moon-glow 12s infinite alternate;
            bottom: 10px;
            left: 10px;
        }
        
        @keyframes sun-glow {
            0% { box-shadow: 0 0 40px 15px rgba(255, 100, 0, 0.5); }
            100% { box-shadow: 0 0 60px 25px rgba(255, 150, 0, 0.7); }
        }
        
        @keyframes moon-glow {
            0% { box-shadow: 0 0 30px 10px rgba(150, 150, 255, 0.4); }
            100% { box-shadow: 0 0 50px 20px rgba(200, 200, 255, 0.6); }
        }
        
        /* é“¶æ²³ */
        .galaxy {
            position: fixed;
            top: 50%;
            left: -50%;
            width: 200%;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1) 20%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0.1) 80%, transparent);
            transform: rotate(-15deg);
            z-index: -1;
        }
        
        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        
        /* æ ‡é¢˜ */
        header {
            text-align: center;
            margin: 30px 0 40px;
            padding: 20px;
            position: relative;
        }
        
        h1 {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ffaa33, #ccccff, #8888cc);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
            letter-spacing: 3px;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: #aaaaff;
            font-style: italic;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
            text-shadow: 0 0 10px rgba(150, 150, 255, 0.3);
        }
        
        /* å åœè¯´æ˜ */
        .instructions {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 40px;
            width: 90%;
            max-width: 800px;
            border: 1px solid rgba(100, 100, 255, 0.2);
            box-shadow: 0 0 30px rgba(0, 0, 50, 0.5);
            text-align: center;
        }
        
        .instructions h2 {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: #ffcc66;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .instructions p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: #ccccff;
            margin-bottom: 10px;
        }
        
        /* éŸ³æ•ˆæ§åˆ¶ */
        .sound-control {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
        }
        
        .sound-btn {
            background: rgba(20, 20, 40, 0.8);
            border: 1px solid rgba(100, 100, 255, 0.3);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #aaaaff;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
        }
        
        .sound-btn:hover {
            background: rgba(40, 40, 80, 0.9);
            transform: scale(1.1);
            color: #ffffff;
        }
        
        /* å¡ç‰ŒåŒºåŸŸ */
        .card-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            margin: 20px 0 40px;
        }
        
        .card-container {
            position: relative;
            width: 320px;
            height: 450px;
            margin: 0 auto 60px;
            perspective: 1000px;
        }
        
        .card {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            border-radius: 20px;
        }
        
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 25px;
            overflow: hidden;
        }
        
        .card-back {
            background: linear-gradient(135deg, #1a1a3a, #0a0a1a);
            border: 3px solid #4444aa;
            color: #ccccff;
        }
        
        .card-back .card-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 30% 30%, rgba(100, 100, 255, 0.1) 2px, transparent 2px),
                radial-gradient(circle at 70% 70%, rgba(255, 200, 100, 0.1) 2px, transparent 2px);
            background-size: 50px 50px;
            opacity: 0.5;
        }
        
        .card-back h3 {
            font-family: 'Cinzel', serif;
            font-size: 2.2rem;
            text-align: center;
            margin-bottom: 20px;
            color: #ffcc66;
            z-index: 1;
        }
        
        .card-back .constellation {
            font-size: 5rem;
            margin-bottom: 20px;
            z-index: 1;
        }
        
        .card-back p {
            font-size: 1.2rem;
            text-align: center;
            color: #aaaaff;
            z-index: 1;
        }
        
        .card-front {
            background: linear-gradient(135deg, #2a2a4a, #1a1a3a);
            transform: rotateY(180deg);
            border: 3px solid #6666cc;
            justify-content: space-between;
        }
        
        .card-category {
            font-family: 'Cinzel', serif;
            font-size: 1.4rem;
            color: #ffcc66;
            text-align: center;
            margin-bottom: 15px;
            padding: 8px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            border: 1px solid #6666cc;
            width: 100%;
        }
        
        .card-symbol {
            font-size: 4.5rem;
            margin: 10px 0 25px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-text {
            font-size: 1.4rem;
            line-height: 1.5;
            text-align: center;
            color: #e6e6ff;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
        }
        
        .card-footer {
            font-size: 1rem;
            color: #aaaaff;
            text-align: center;
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid rgba(100, 100, 255, 0.3);
            width: 100%;
        }
        
        /* æ§åˆ¶æŒ‰é’® */
        .controls {
            display: flex;
            gap: 25px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .btn {
            padding: 18px 35px;
            font-family: 'Cinzel', serif;
            font-size: 1.3rem;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.4s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: 1px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .draw-card {
            background: linear-gradient(135deg, #8a2387, #e94057, #f27121);
            color: white;
        }
        
        .draw-card:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 30px rgba(233, 64, 87, 0.4);
        }
        
        .draw-card:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .reset-card {
            background: rgba(30, 30, 60, 0.8);
            color: #aaaaff;
            border: 2px solid #4444aa;
        }
        
        .reset-card:hover {
            background: rgba(40, 40, 80, 0.9);
            transform: translateY(-3px);
        }
        
        /* å†å²è®°å½• */
        .history-section {
            width: 90%;
            max-width: 1000px;
            background: rgba(20, 20, 40, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid rgba(100, 100, 255, 0.2);
            box-shadow: 0 0 30px rgba(0, 0, 50, 0.5);
        }
        
        .history-section h2 {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #ffcc66;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .history-cards {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
        }
        
        .history-card {
            width: 150px;
            height: 210px;
            background: linear-gradient(135deg, #2a2a4a, #1a1a3a);
            border-radius: 12px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            border: 2px solid #4444aa;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        
        .history-card:hover {
            transform: translateY(-5px);
            border-color: #6666cc;
        }
        
        .history-symbol {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .history-text {
            font-size: 0.9rem;
            text-align: center;
            color: #ccccff;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* éŸ³æ•ˆæç¤º */
        .sound-hint {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(20, 20, 40, 0.8);
            border-radius: 10px;
            padding: 10px 15px;
            font-size: 0.9rem;
            color: #aaaaff;
            border: 1px solid rgba(100, 100, 255, 0.3);
            max-width: 250px;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }
        
        .sound-hint.show {
            opacity: 1;
        }
        
        /* å¡ç‰Œç±»åˆ«æ ·å¼ */
        .card-type-1 .card-front { background: linear-gradient(135deg, #1a2a3a, #0a1a2a); border-color: #3388ff; }
        .card-type-2 .card-front { background: linear-gradient(135deg, #2a1a3a, #1a0a2a); border-color: #aa44ff; }
        .card-type-3 .card-front { background: linear-gradient(135deg, #3a2a1a, #2a1a0a); border-color: #ffaa33; }
        .card-type-4 .card-front { background: linear-gradient(135deg, #1a3a2a, #0a2a1a); border-color: #33ff88; }
        .card-type-5 .card-front { background: linear-gradient(135deg, #3a1a2a, #2a0a1a); border-color: #ff4466; }
        
        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes drawCard {
            0% { transform: scale(0.8) rotateY(0); opacity: 0; }
            100% { transform: scale(1) rotateY(180deg); opacity: 1; }
        }
        
        .drawing {
            animation: drawCard 1.5s ease forwards;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            .subtitle { font-size: 1.1rem; }
            .card-container { width: 280px; height: 400px; }
            .controls { gap: 15px; }
            .btn { padding: 15px 25px; font-size: 1.1rem; }
            .card-symbol { font-size: 3.5rem; }
            .card-text { font-size: 1.2rem; }
            .sound-control { top: 10px; left: 10px; }
            .sound-btn { width: 40px; height: 40px; font-size: 1.2rem; }
        }
        
        @media (max-width: 480px) {
            h1 { font-size: 2rem; }
            .card-container { width: 250px; height: 360px; }
            .controls { flex-direction: column; align-items: center; }
            .btn { width: 100%; max-width: 280px; justify-content: center; }
            .sound-hint { bottom: 10px; right: 10px; left: 10px; max-width: none; }
        }
    </style>
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <div class="stars" id="stars"></div>
    <div class="sun-moon">
        <div class="sun"></div>
        <div class="moon"></div>
    </div>
    <div class="galaxy"></div>
    
    <!-- éŸ³æ•ˆæ§åˆ¶ -->
    <div class="sound-control">
        <button class="sound-btn" id="sound-toggle">
            <i class="fas fa-volume-up"></i>
        </button>
    </div>
    
    <!-- éŸ³æ•ˆæç¤º -->
    <div class="sound-hint" id="sound-hint">éŸ³æ•ˆå·²å¯ç”¨</div>
    
    <!-- ä¸»å†…å®¹ -->
    <div class="container">
        <header>
            <h1><i class="fas fa-star-and-crescent"></i> æ˜Ÿè¾°å åœå¡ç‰Œ</h1>
            <p class="subtitle">å¿ƒä¸­é»˜å¿µä½ çš„é—®é¢˜ï¼Œç„¶åä»å®‡å®™çš„æ™ºæ…§ä¸­æŠ½å–ä¸€å¼ å¡ç‰Œã€‚æ¯å¼ å¡ç‰Œéƒ½è•´å«ç€ç‹¬ç‰¹çš„ç­”æ¡ˆä¸èƒ½é‡ï¼Œæ˜Ÿè¾°å°†æŒ‡å¼•ä½ å‰è¡Œçš„æ–¹å‘ã€‚</p>
        </header>
        
        <div class="instructions">
            <h2><i class="fas fa-crystal-ball"></i> å¦‚ä½•å åœ</h2>
            <p>1. åœ¨å¿ƒä¸­æ¸…æ™°åœ°é—®å‡ºä½ çš„é—®é¢˜ï¼Œä¸“æ³¨äºä½ çš„å›°æƒ‘æˆ–æœŸå¾…</p>
            <p>2. ç‚¹å‡»"æŠ½å–å¡ç‰Œ"æŒ‰é’®ï¼Œç­‰å¾…å¡ç‰Œç¿»è½¬æ˜¾ç°ç­”æ¡ˆ</p>
            <p>3. ä¸åŒç±»åˆ«çš„å¡ç‰Œä¼šè§¦å‘ä¸åŒçš„ç¥ç§˜éŸ³æ•ˆ</p>
            <p>4. è§£è¯»å¡ç‰Œä¸Šçš„ä¿¡æ¯ï¼Œå®ƒå¯èƒ½æä¾›æŒ‡å¼•ã€è­¦ç¤ºæˆ–æ–°çš„è§†è§’</p>
            <p>5. å¦‚éœ€é‡æ–°å åœï¼Œå¯ä»¥é‡ç½®å¡ç‰Œå¹¶å†æ¬¡æŠ½å–</p>
        </div>
        
        <div class="card-section">
            <div class="card-container">
                <div class="card" id="card">
                    <!-- å¡ç‰ŒèƒŒé¢ -->
                    <div class="card-face card-back">
                        <div class="card-pattern"></div>
                        <h3>æ˜Ÿè¾°å¡ç‰Œ</h3>
                        <div class="constellation">âœ¦</div>
                        <p>é›†ä¸­æ„å¿µ<br>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æŠ½å–å¡ç‰Œ</p>
                    </div>
                    
                    <!-- å¡ç‰Œæ­£é¢ -->
                    <div class="card-face card-front">
                        <div class="card-category" id="card-category">å‘½è¿æŒ‡å¼•</div>
                        <div class="card-symbol" id="card-symbol">âœ¦</div>
                        <div class="card-text" id="card-text">å¡ç‰Œå°†åœ¨è¿™é‡Œæ˜¾ç¤ºç­”æ¡ˆ...</div>
                        <div class="card-footer">æ˜Ÿè¾°çš„å¯ç¤º Â· å®‡å®™çš„æ™ºæ…§</div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn draw-card" id="draw-card">
                    <i class="fas fa-hand-sparkles"></i> æŠ½å–å¡ç‰Œ
                </button>
                <button class="btn reset-card" id="reset-card">
                    <i class="fas fa-redo"></i> é‡ç½®å¡ç‰Œ
                </button>
            </div>
        </div>
        
        <div class="history-section">
            <h2><i class="fas fa-scroll"></i> å åœè®°å½•</h2>
            <div class="history-cards" id="history-cards">
                <!-- å†å²è®°å½•å¡ç‰Œå°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                <div class="history-card-empty">
                    <p>æš‚æ— å åœè®°å½•</p>
                    <p>è¿›è¡Œç¬¬ä¸€æ¬¡å åœå§</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç”Ÿæˆæ˜Ÿç©º
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // éšæœºå¤§å°
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // éšæœºä½ç½®
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                // éšæœºé—ªçƒå»¶è¿Ÿ
                star.style.animationDelay = `${Math.random() * 5}s`;
                
                starsContainer.appendChild(star);
            }
        }
        
        // å¡ç‰Œæ•°æ® - 100ä¸ªä¸åŒçš„ç­”æ¡ˆï¼Œæ¯ä¸ªç­”æ¡ˆæœ‰ç¬¦å·ã€æ–‡æœ¬å’Œç±»åˆ«
        const cardData = [
            { symbol: "â˜‰", text: "å¤ªé˜³ä¹‹å…‰å°†é©±æ•£é˜´éœ¾ï¼Œæ–°çš„å¼€å§‹å°±åœ¨çœ¼å‰", category: "å¸Œæœ›" },
            { symbol: "â˜½", text: "æœˆäº®çš„æ¸©æŸ”æé†’ä½ ï¼Œç°åœ¨æ˜¯åæ€å’Œè‡ªçœçš„æ—¶åˆ»", category: "å†…çœ" },
            { symbol: "âœ¦", text: "æ˜Ÿè¾°æŒ‡å¼•ä½ èµ°å‘æœªçŸ¥çš„é“è·¯ï¼Œé‚£é‡Œæœ‰æ„å¤–æ”¶è·", category: "æŒ‡å¼•" },
            { symbol: "â™’", text: "æ°´ç“¶åº§çš„æ™ºæ…§å‘Šè¯‰ä½ ï¼šåˆ›æ–°æ˜¯çªç ´å›°å¢ƒçš„å…³é”®", category: "åˆ›æ–°" },
            { symbol: "â™‹", text: "å·¨èŸ¹åº§çš„å…³æ€€æé†’ï¼šå®¶åº­ä¸æƒ…æ„Ÿéœ€è¦ä½ çš„å…³æ³¨", category: "æƒ…æ„Ÿ" },
            { symbol: "â™", text: "å°„æ‰‹åº§çš„ç®­çŸ¢æŒ‡å‘è¿œæ–¹ï¼Œæ—…è¡Œæˆ–å­¦ä¹ å°†å¸¦æ¥æˆé•¿", category: "æˆé•¿" },
            { symbol: "â˜„", text: "æµæ˜Ÿåˆ’è¿‡å¤œç©ºï¼Œé¢„ç¤ºç€ä¸€ä¸ªçªå¦‚å…¶æ¥çš„æœºä¼š", category: "æœºä¼š" },
            { symbol: "ğŸŒ€", text: "å‘½è¿çš„æ¼©æ¶¡æ­£åœ¨è½¬å‘ï¼Œè€å¿ƒç­‰å¾…å˜åŒ–çš„å®Œæˆ", category: "å˜åŒ–" },
            { symbol: "âš–", text: "å¤©ç§¤çš„å¹³è¡¡æé†’ä½ ï¼šåœ¨å†³ç­–ä¸­éœ€è¦æƒè¡¡åˆ©å¼Š", category: "å¹³è¡¡" },
            { symbol: "ğŸœ‚", text: "ç«å…ƒç´ çš„èƒ½é‡å°†ç‚¹ç‡ƒä½ çš„æ¿€æƒ…ä¸åŠ¨åŠ›", category: "èƒ½é‡" },
            { symbol: "ğŸœ„", text: "æ°´å…ƒç´ çš„æµåŠ¨æç¤ºï¼šé€‚åº”å˜åŒ–æ¯”æŠµæŠ—æ›´æ˜æ™º", category: "é€‚åº”" },
            { symbol: "ğŸŒŒ", text: "é“¶æ²³çš„æµ©ç€šæé†’ï¼šä½ çš„é—®é¢˜åœ¨å®‡å®™å°ºåº¦ä¸‹å¾®ä¸è¶³é“", category: "è§†è§’" },
            { symbol: "ğŸŒ ", text: "æµæ˜Ÿé›¨èˆ¬çš„çµæ„Ÿå°†é™ä¸´ï¼Œè®°å½•ä¸‹æ¯ä¸€ä¸ªæƒ³æ³•", category: "çµæ„Ÿ" },
            { symbol: "ğŸ”­", text: "æœ›è¿œé•œçš„è§†é‡ï¼šä½ éœ€è¦æ›´é•¿è¿œçš„ç›®å…‰çœ‹å¾…é—®é¢˜", category: "è¿œè§" },
            { symbol: "ğŸ§­", text: "æŒ‡å—é’ˆæŒ‡å‘åŒ—æ–¹ï¼Œä½ çš„å†…å¿ƒçŸ¥é“æ­£ç¡®çš„æ–¹å‘", category: "ç›´è§‰" },
            { symbol: "ğŸŒ™", text: "æ–°æœˆè±¡å¾æ–°çš„å¼€å§‹ï¼Œç°åœ¨æ˜¯è®¾å®šç›®æ ‡çš„è‰¯æœº", category: "å¼€å§‹" },
            { symbol: "ğŸŒ•", text: "æ»¡æœˆçš„å…‰èŠ’ä¸‹ï¼Œéšè—çš„çœŸç›¸å³å°†æµ®å‡ºæ°´é¢", category: "çœŸç›¸" },
            { symbol: "ğŸª", text: "åœŸæ˜Ÿçš„å…‰ç¯æé†’ï¼šè´£ä»»ä¸çºªå¾‹æ˜¯æˆåŠŸçš„å…³é”®", category: "è´£ä»»" },
            { symbol: "â­", text: "åŒ—ææ˜Ÿçš„æ’å®šï¼šåœ¨å˜åŒ–ä¸­å¯»æ‰¾ä¸å˜çš„æ ¸å¿ƒä»·å€¼", category: "ç¨³å®š" },
            { symbol: "ğŸŒ…", text: "æ—¥å‡ºçš„å…‰è¾‰ï¼šé»‘æš—å³å°†è¿‡å»ï¼Œå…‰æ˜å³å°†åˆ°æ¥", category: "å¸Œæœ›" },
            { symbol: "ğŸŒ‰", text: "æ¡¥æ¢è¿æ¥ä¸¤å²¸ï¼Œä½ éœ€è¦æ­å»ºæ²Ÿé€šçš„æ¸ é“", category: "æ²Ÿé€š" },
            { symbol: "ğŸ—", text: "å¤è€çš„é’¥åŒ™ï¼šç­”æ¡ˆè—åœ¨è¢«ä½ å¿½è§†çš„è¿‡å»ç»éªŒä¸­", category: "å›å¿†" },
            { symbol: "ğŸ”®", text: "æ°´æ™¶çƒçš„æ™¯è±¡ï¼šæœªæ¥æœ‰å¤šä¸ªåˆ†æ”¯ï¼Œé€‰æ‹©æƒåœ¨ä½ æ‰‹ä¸­", category: "é€‰æ‹©" },
            { symbol: "ğŸ•¯", text: "çƒ›å…‰çš„å¯ç¤ºï¼šåœ¨é»‘æš—ä¸­ï¼Œä½ è‡ªå·±çš„å…‰èŠ’æœ€èƒ½æŒ‡å¼•æ–¹å‘", category: "è‡ªä¿¡" },
            { symbol: "â³", text: "æ²™æ¼çš„æé†’ï¼šæ—¶é—´æ˜¯æœ‰é™çš„ï¼Œè¯·æ˜æ™ºåœ°ä½¿ç”¨å®ƒ", category: "æ—¶é—´" },
            { symbol: "ğŸ“œ", text: "å¤è€å·è½´ï¼šä¼ ç»Ÿçš„æ™ºæ…§å¯èƒ½åŒ…å«ä½ éœ€è¦çš„ç­”æ¡ˆ", category: "æ™ºæ…§" },
            { symbol: "ğŸ¦‰", text: "çŒ«å¤´é¹°çš„æ™ºæ…§ï¼šè§‚å¯Ÿå’Œå­¦ä¹ å°†å¸¦æ¥é—®é¢˜çš„è§£å†³", category: "å­¦ä¹ " },
            { symbol: "ğŸ¦‹", text: "è´è¶çš„èœ•å˜ï¼šå˜åŒ–è™½ç„¶å›°éš¾ï¼Œä½†å°†å¸¦æ¥ç¾ä¸½çš„ç»“æœ", category: "è½¬å˜" },
            { symbol: "ğŸº", text: "ç‹¼çš„åšå«ï¼šä½ å¹¶ä¸å­¤å•ï¼Œå¯»æ‰¾ä½ çš„ç¾¤ä½“æˆ–æ”¯æŒè€…", category: "æ”¯æŒ" },
            { symbol: "ğŸŒ³", text: "ä¸–ç•Œæ ‘çš„æ ¹ç³»ï¼šä½ çš„åŸºç¡€æ¯”æƒ³è±¡ä¸­æ›´ç¨³å›º", category: "åŸºç¡€" },
            { symbol: "ğŸŒŠ", text: "æµ·æµªçš„åŠ›é‡ï¼šæƒ…ç»ªå¦‚æ½®æ°´ï¼Œå­¦ä¼šä¸å…¶å…±å¤„è€Œéå¯¹æŠ—", category: "æƒ…ç»ª" },
            { symbol: "ğŸ”¥", text: "ç«ç„°çš„å‡€åŒ–ï¼šæ”¾ä¸‹è¿‡å»çš„è´Ÿæ‹…ï¼Œè®©ç«ç„°å‡€åŒ–å‰è¡Œé“è·¯", category: "é‡Šæ”¾" },
            { symbol: "ğŸŒª", text: "æ—‹é£çš„ä¸­å¿ƒï¼šåœ¨æ··ä¹±ä¸­å¯»æ‰¾å¹³é™çš„æ ¸å¿ƒ", category: "å¹³é™" },
            { symbol: "ğŸŒˆ", text: "å½©è™¹çš„æ‰¿è¯ºï¼šå›°éš¾ä¹‹åå°†æœ‰ç¾å¥½ç­‰å¾…", category: "å¸Œæœ›" },
            { symbol: "âš¡", text: "é—ªç”µçš„å¯ç¤ºï¼šçªç„¶çš„æ´å¯Ÿå°†ç…§äº®é—®é¢˜çš„æœ¬è´¨", category: "æ´å¯Ÿ" },
            { symbol: "ğŸŒ±", text: "ç§å­çš„æ½œåŠ›ï¼šå°å°çš„å¼€å§‹è•´å«ç€å·¨å¤§çš„æˆé•¿å¯èƒ½", category: "æ½œåŠ›" },
            { symbol: "ğŸ•Š", text: "å’Œå¹³é¸½ï¼šå†²çªå°†å¾—åˆ°åŒ–è§£ï¼Œå’Œè°å³å°†æ¢å¤", category: "å’Œè°" },
            { symbol: "ğŸ›¡", text: "ç›¾ç‰Œçš„å®ˆæŠ¤ï¼šå»ºç«‹é€‚å½“çš„è¾¹ç•Œä¿æŠ¤è‡ªå·±", category: "ä¿æŠ¤" },
            { symbol: "ğŸ—¡", text: "å‰‘çš„é”‹åˆ©ï¼šéœ€è¦æœæ–­çš„è¡ŒåŠ¨æ¥åˆ‡æ–­å›°å¢ƒ", category: "æœæ–­" },
            { symbol: "ğŸ¹", text: "å¼“ç®­çš„ç›®æ ‡ï¼šæ¸…æ™°çš„ç›®æ ‡æ˜¯æˆåŠŸçš„ä¸€åŠ", category: "ç›®æ ‡" },
            { symbol: "ğŸ§±", text: "ç –å¢™çš„å¯ç¤ºï¼šéšœç¢æ˜¯æµ‹è¯•ä½ å†³å¿ƒå’Œåˆ›é€ åŠ›çš„æœºä¼š", category: "æŒ‘æˆ˜" },
            { symbol: "ğŸŒ‰", text: "å½©è™¹æ¡¥ï¼šçœ‹ä¼¼ä¸å¯èƒ½çš„è¿æ¥å°†æˆä¸ºå¯èƒ½", category: "è¿æ¥" },
            { symbol: "ğŸ•³", text: "é»‘æ´çš„éšå–»ï¼šæœ‰äº›é—®é¢˜ä¸éœ€è¦ç­”æ¡ˆï¼Œåªéœ€è¦æ¥å—", category: "æ¥å—" },
            { symbol: "ğŸŒ ", text: "è®¸æ„¿æ˜Ÿï¼šä½ çš„æ¸´æœ›æœ‰å®ç°çš„å¯èƒ½ï¼Œä½†éœ€è¦è¡ŒåŠ¨", category: "æ„¿æœ›" },
            { symbol: "ğŸ§­", text: "ç£çŸ³æŒ‡å—é’ˆï¼šä½ çš„çƒ­æƒ…å°†è‡ªç„¶å¼•å¯¼ä½ èµ°å‘æ­£ç¡®æ–¹å‘", category: "çƒ­æƒ…" },
            { symbol: "ğŸ””", text: "è­¦é’Ÿçš„æé†’ï¼šæ³¨æ„è¢«å¿½è§†çš„å±é™©ä¿¡å·", category: "è­¦ç¤º" },
            { symbol: "ğŸ­", text: "æˆå‰§é¢å…·ï¼šè¡¨è±¡ä¹‹ä¸‹å¯èƒ½æœ‰ä¸åŒçš„çœŸç›¸", category: "çœŸç›¸" },
            { symbol: "âš“", text: "é”šçš„ç¨³å®šï¼šåœ¨åŠ¨è¡ä¸­å¯»æ‰¾å¯ä»¥ä¾é çš„ç¨³å®šç‚¹", category: "ç¨³å®š" },
            { symbol: "ğŸšª", text: "æ•å¼€çš„å¤§é—¨ï¼šæœºä¼šå·²ç»å‡ºç°ï¼Œåªéœ€è¿ˆå‡ºç¬¬ä¸€æ­¥", category: "æœºä¼š" },
            { symbol: "ğŸªœ", text: "æ¢¯å­çš„é˜¶æ¢¯ï¼šæˆåŠŸéœ€è¦ä¸€æ­¥ä¸€æ­¥åœ°ç§¯ç´¯", category: "è€å¿ƒ" },
            { symbol: "ğŸŒ¹", text: "ç«ç‘°çš„ç¾ä¸½ä¸åˆºï¼šç¾å¥½çš„äº‹ç‰©å¾€å¾€ä¼´éšç€æŒ‘æˆ˜", category: "ç°å®" },
            { symbol: "ğŸƒ", text: "é£ä¸­çš„å¶å­ï¼šé¡ºåº”æ½®æµæ¯”é€†æµè€Œä¸Šæ›´æ˜æ™º", category: "é¡ºåŠ¿" },
            { symbol: "ğŸ•¸", text: "èœ˜è››ç½‘çš„è¿æ¥ï¼šæ‰€æœ‰äº‹ç‰©éƒ½æœ‰å†…åœ¨è”ç³»", category: "è”ç³»" },
            { symbol: "ğŸš", text: "è´å£³çš„å›å£°ï¼šå€¾å¬å†…å¿ƒçš„å£°éŸ³ï¼Œç­”æ¡ˆå°±åœ¨é‚£é‡Œ", category: "å†…å¿ƒ" },
            { symbol: "ğŸŒµ", text: "æ²™æ¼ ä»™äººæŒï¼šåœ¨è‰°è‹¦ç¯å¢ƒä¸­å‚¨å­˜èµ„æºå’Œè€å¿ƒ", category: "å‡†å¤‡" },
            { symbol: "ğŸ¦š", text: "å­”é›€å¼€å±ï¼šå±•ç¤ºä½ çš„ç‹¬ç‰¹æ‰èƒ½ï¼Œä¸è¦éšè—", category: "è¡¨è¾¾" },
            { symbol: "ğŸ¦‰", text: "å¤œè¡ŒçŒ«å¤´é¹°ï¼šåœ¨å®‰é™å’Œç‹¬å¤„ä¸­æ‰¾åˆ°ç­”æ¡ˆ", category: "ç‹¬å¤„" },
            { symbol: "ğŸ¦‹", text: "ç ´èŒ§æˆè¶ï¼šå½“å‰çš„é™åˆ¶æ˜¯ä¸ºäº†æœªæ¥æ›´è‡ªç”±çš„é£ç¿”", category: "æˆé•¿" },
            { symbol: "ğŸ¢", text: "ä¹Œé¾Ÿçš„è€å¿ƒï¼šç¼“æ…¢è€Œç¨³å®šçš„è¿›å±•å°†èµ¢å¾—æ¯”èµ›", category: "åšæŒ" },
            { symbol: "ğŸ¬", text: "æµ·è±šçš„ç©è€ï¼šä¸è¦å¿˜è®°åœ¨æ—…ç¨‹ä¸­å¯»æ‰¾ä¹è¶£", category: "å¿«ä¹" },
            { symbol: "ğŸ¦…", text: "é¹°çš„è§†é‡ï¼šä»æ›´é«˜è§’åº¦çœ‹å¾…é—®é¢˜", category: "è§†è§’" },
            { symbol: "ğŸ¦‰", text: "æ™ºæ…§ä¹‹é¸Ÿï¼šç­”æ¡ˆæ¥è‡ªçŸ¥è¯†å’Œç»éªŒ", category: "çŸ¥è¯†" },
            { symbol: "ğŸ", text: "è›‡çš„èœ•å˜ï¼šæ”¾ä¸‹æ—§çš®å›Šï¼Œè¿æ¥æ–°çš„è‡ªæˆ‘", category: "æ›´æ–°" },
            { symbol: "ğŸ¦Š", text: "ç‹ç‹¸çš„æœºæ™ºï¼šå·§å¦™çš„æ–¹æ³•æ¯”è›®åŠ›æ›´æœ‰æ•ˆ", category: "ç­–ç•¥" },
            { symbol: "ğŸ˜", text: "å¤§è±¡çš„è®°å¿†ï¼šè¿‡å»çš„ç»éªŒåŒ…å«é‡è¦çº¿ç´¢", category: "ç»éªŒ" },
            { symbol: "ğŸ¦“", text: "æ–‘é©¬çš„æ¡çº¹ï¼šåœ¨å¯¹æ¯”ä¸­æ‰¾åˆ°å¹³è¡¡", category: "å¹³è¡¡" },
            { symbol: "ğŸ¦’", text: "é•¿é¢ˆé¹¿çš„é«˜åº¦ï¼šç«™å¾—æ›´é«˜ï¼Œçœ‹å¾—æ›´è¿œ", category: "è¿œè§" },
            { symbol: "ğŸ¦˜", text: "è¢‹é¼ çš„è·³è·ƒï¼šå¤§èƒ†è·ƒè¿›å¯èƒ½å¸¦æ¥çªç ´", category: "å‹‡æ°”" },
            { symbol: "ğŸ¦”", text: "åˆºçŒ¬çš„é˜²å¾¡ï¼šæœ‰æ—¶è‡ªæˆ‘ä¿æŠ¤æ˜¯å¿…è¦çš„", category: "è‡ªæˆ‘ä¿æŠ¤" },
            { symbol: "ğŸ¦©", text: "ç«çƒˆé¸Ÿçš„å¹³è¡¡ï¼šåœ¨å›°å¢ƒä¸­ä¿æŒä¼˜é›…ä¸å¹³è¡¡", category: "ä¼˜é›…" },
            { symbol: "ğŸ§", text: "ä¼é¹…çš„é€‚åº”ï¼šåœ¨æœ€å¯’å†·çš„ç¯å¢ƒä¸­ä¹Ÿèƒ½æ‰¾åˆ°æ¸©æš–", category: "é€‚åº”" },
            { symbol: "ğŸ‹", text: "é²¸é±¼çš„æ·±åº¦ï¼šæ½œå…¥æ·±å¤„å¯»æ‰¾ç­”æ¡ˆ", category: "æ·±åº¦" },
            { symbol: "ğŸ¦­", text: "æµ·è±¹çš„çµæ´»ï¼šåœ¨å˜åŒ–çš„ç¯å¢ƒä¸­ä¿æŒçµæ´»æ€§", category: "çµæ´»" },
            { symbol: "ğŸ…", text: "è€è™çš„åŠ›é‡ï¼šå†…åœ¨åŠ›é‡ç­‰å¾…è¢«å”¤é†’", category: "åŠ›é‡" },
            { symbol: "ğŸ¦", text: "çŠ€ç‰›çš„åšéŸ§ï¼šä»¥åšå®šçš„å†³å¿ƒé¢å¯¹éšœç¢", category: "å†³å¿ƒ" },
            { symbol: "ğŸ¦¬", text: "é‡ç‰›çš„åŠ›é‡ï¼šé›†ä½“çš„æ”¯æŒå°†å¸®åŠ©ä½ å‰è¡Œ", category: "ç¤¾åŒº" },
            { symbol: "ğŸ¦Œ", text: "é¹¿çš„è­¦è§‰ï¼šæ³¨æ„å‘¨å›´çš„ä¿¡å·å’Œè¿¹è±¡", category: "è­¦è§‰" },
            { symbol: "ğŸ", text: "å±±ç¾Šçš„æ”€ç™»ï¼šè‰°éš¾çš„é“è·¯é€šå‘å£®ä¸½çš„æ™¯è‰²", category: "åŠªåŠ›" },
            { symbol: "ğŸ", text: "é©¬çš„è‡ªç”±ï¼šæ‘†è„±æŸç¼šï¼Œè¿½æ±‚çœŸæ­£çš„è‡ªç”±", category: "è‡ªç”±" },
            { symbol: "ğŸ¦„", text: "ç‹¬è§’å…½çš„é­”æ³•ï¼šç›¸ä¿¡å¥‡è¿¹å¯èƒ½å‘ç”Ÿ", category: "ä¿¡å¿µ" },
            { symbol: "ğŸ²", text: "é¾™çš„æ™ºæ…§ï¼šå¤è€æ™ºæ…§åŒ…å«ç°ä»£é—®é¢˜çš„ç­”æ¡ˆ", category: "æ™ºæ…§" },
            { symbol: "ğŸ¦•", text: "æé¾™çš„ç­ç»ï¼šæœ‰äº›äº‹ç‰©éœ€è¦æ”¾æ‰‹è®©å®ƒä»¬ç»“æŸ", category: "ç»“æŸ" },
            { symbol: "ğŸ¦–", text: "æš´é¾™çš„éœ¸æ°”ï¼šæœ‰æ—¶éœ€è¦å±•ç¤ºåŠ›é‡æ¥ç»´æŠ¤ç«‹åœº", category: "åŠ›é‡" },
            { symbol: "ğŸ¦š", text: "å‡¤å‡°çš„æ¶…æ§ƒï¼šä»ç°çƒ¬ä¸­é‡ç”Ÿï¼Œæ›´åŠ å¼ºå¤§", category: "é‡ç”Ÿ" },
            { symbol: "ğŸ§š", text: "ç²¾çµçš„é­”æ³•ï¼šå°æ”¹å˜å¯èƒ½äº§ç”Ÿå¤§å½±å“", category: "å¾®è°ƒ" },
            { symbol: "ğŸ§", text: "ç¥ç¯çš„ç²¾çµï¼šæ˜ç¡®ä½ çš„æ„¿æœ›ï¼Œå®ƒä»¬å¯èƒ½å®ç°", category: "æ„¿æœ›" },
            { symbol: "ğŸ§œ", text: "ç¾äººé±¼çš„æ­Œå£°ï¼šå€¾å¬è¢«å¿½è§†çš„å£°éŸ³å’Œä¿¡æ¯", category: "å€¾å¬" },
            { symbol: "ğŸ§", text: "ç²¾çµçš„å¼“ç®­ï¼šç²¾å‡†èšç„¦äºç›®æ ‡", category: "ä¸“æ³¨" },
            { symbol: "ğŸ›", text: "ç¥åº™çš„æŸ±å­ï¼šå»ºç«‹åšå®çš„åŸåˆ™å’Œä»·å€¼è§‚", category: "åŸåˆ™" },
            { symbol: "ğŸ•", text: "åœ£æ®¿çš„å¯‚é™ï¼šåœ¨å®‰é™ä¸­æ‰¾åˆ°ç¥åœ£çš„æŒ‡å¼•", category: "å®é™" },
            { symbol: "â›©", text: "ç¥ç¤¾çš„ç¥ˆæ„¿ï¼šä½ çš„æ„å›¾å°†å½±å“ç»“æœ", category: "æ„å›¾" },
            { symbol: "ğŸ›•", text: "ä½›å¡”çš„å±‚æ¬¡ï¼šç†è§£é—®é¢˜çš„ä¸åŒå±‚é¢", category: "ç†è§£" },
            { symbol: "ğŸŒ‹", text: "ç«å±±çš„çˆ†å‘ï¼šå‹æŠ‘çš„æƒ…ç»ªéœ€è¦é‡Šæ”¾", category: "é‡Šæ”¾" },
            { symbol: "ğŸ”", text: "å±±å³°çš„é¡¶å³°ï¼šç›®æ ‡å€¼å¾—æ”€ç™»çš„åŠªåŠ›", category: "æˆå°±" },
            { symbol: "ğŸ", text: "å­¤å²›çš„ç‹¬ç«‹ï¼šæœ‰æ—¶éœ€è¦ç‹¬è‡ªé¢å¯¹å’Œè§£å†³", category: "ç‹¬ç«‹" },
            { symbol: "ğŸœ", text: "æ²™æ¼ çš„å¹¿é˜”ï¼šç®€åŒ–é—®é¢˜ï¼Œå»é™¤ä¸å¿…è¦çš„å¤æ‚æ€§", category: "ç®€åŒ–" },
            { symbol: "â„", text: "é›ªèŠ±çš„ç‹¬ç‰¹ï¼šæ¯ä¸ªé—®é¢˜éƒ½æœ‰ç‹¬ç‰¹çš„è§£å†³æ–¹æ¡ˆ", category: "ç‹¬ç‰¹" },
            { symbol: "ğŸŒ¬", text: "é£çš„è‡ªç”±ï¼šæ”¾ä¸‹æ§åˆ¶ï¼Œè®©äº‹ç‰©è‡ªç„¶å‘å±•", category: "é¡ºå…¶è‡ªç„¶" }
        ];
        
        // è·å–DOMå…ƒç´ 
        const card = document.getElementById('card');
        const cardSymbol = document.getElementById('card-symbol');
        const cardText = document.getElementById('card-text');
        const cardCategory = document.getElementById('card-category');
        const drawButton = document.getElementById('draw-card');
        const resetButton = document.getElementById('reset-card');
        const historyCardsContainer = document.getElementById('history-cards');
        const soundToggle = document.getElementById('sound-toggle');
        const soundHint = document.getElementById('sound-hint');
        
        // éŸ³æ•ˆå˜é‡
        let audioContext;
        let isSoundEnabled = true;
        let isCardFlipped = false;
        let isDrawing = false;
        let history = JSON.parse(localStorage.getItem('starCardsHistory')) || [];
        
        // åˆå§‹åŒ–éŸ³é¢‘ä¸Šä¸‹æ–‡
        function initAudioContext() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            return audioContext;
        }
        
        // åˆ›å»ºæ›´æ¸…æ™°ã€ç®€å•çš„éŸ³æ•ˆ
        function createSimpleSound(frequency, duration, type = 'sine', volume = 0.3) {
            try {
                const ctx = initAudioContext();
                const oscillator = ctx.createOscillator();
                const gainNode = ctx.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                oscillator.frequency.value = frequency;
                oscillator.type = type;
                
                const now = ctx.currentTime;
                gainNode.gain.setValueAtTime(0, now);
                gainNode.gain.linearRampToValueAtTime(volume, now + 0.01);
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + duration);
                
                oscillator.start(now);
                oscillator.stop(now + duration);
            } catch (error) {
                console.log("åˆ›å»ºéŸ³æ•ˆå¤±è´¥:", error);
            }
        }
        
        // åˆ›å»ºç¿»è½¬å¡ç‰ŒéŸ³æ•ˆ
        function playFlipSound() {
            createSimpleSound(600, 0.3, 'sine', 0.2);
        }
        
        // æ ¹æ®å¡ç‰Œç±»åˆ«æ’­æ”¾ä¸åŒçš„éŸ³æ•ˆ
        function playCardSound(cardType) {
            // ç­‰å¾…ç¿»è½¬éŸ³æ•ˆç»“æŸåå†æ’­æ”¾ç±»åˆ«éŸ³æ•ˆ
            setTimeout(() => {
                switch(cardType) {
                    case 1: // å¸Œæœ›ç±» - æ˜äº®ä¸Šå‡éŸ³
                        createSimpleSound(523.25, 0.5, 'sine', 0.25);
                        setTimeout(() => {
                            createSimpleSound(659.25, 0.3, 'sine', 0.2);
                        }, 200);
                        break;
                    case 2: // å†…çœç±» - æŸ”å’Œä¸‹é™éŸ³
                        createSimpleSound(392, 0.8, 'sine', 0.2);
                        break;
                    case 3: // æŒ‡å¼•ç±» - ç¥ç§˜å…±é¸£éŸ³
                        createSimpleSound(329.63, 0.6, 'sine', 0.25);
                        setTimeout(() => {
                            createSimpleSound(440, 0.4, 'sine', 0.2);
                        }, 150);
                        break;
                    case 4: // åˆ›æ–°ç±» - è½»å¿«è·³éŸ³
                        createSimpleSound(523.25, 0.2, 'sine', 0.2);
                        setTimeout(() => {
                            createSimpleSound(659.25, 0.2, 'sine', 0.15);
                        }, 100);
                        setTimeout(() => {
                            createSimpleSound(783.99, 0.3, 'sine', 0.1);
                        }, 200);
                        break;
                    case 5: // æƒ…æ„Ÿç±» - æ¸©æš–å’Œå¼¦
                        const ctx = initAudioContext();
                        const now = ctx.currentTime;
                        
                        // Cå¤§å’Œå¼¦ (C, E, G)
                        const frequencies = [261.63, 329.63, 392];
                        frequencies.forEach(freq => {
                            const oscillator = ctx.createOscillator();
                            const gainNode = ctx.createGain();
                            
                            oscillator.connect(gainNode);
                            gainNode.connect(ctx.destination);
                            
                            oscillator.frequency.value = freq;
                            oscillator.type = 'sine';
                            
                            gainNode.gain.setValueAtTime(0, now);
                            gainNode.gain.linearRampToValueAtTime(0.15, now + 0.05);
                            gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.8);
                            
                            oscillator.start(now);
                            oscillator.stop(now + 0.8);
                        });
                        break;
                }
            }, 350);
        }
        
        // æ’­æ”¾é‡ç½®éŸ³æ•ˆ
        function playResetSound() {
            createSimpleSound(400, 0.3, 'sine', 0.2);
        }
        
        // åˆå§‹åŒ–é¡µé¢
        function init() {
            createStars();
            updateHistoryDisplay();
            
            // æ£€æŸ¥æœ¬åœ°å­˜å‚¨ä¸­çš„éŸ³æ•ˆè®¾ç½®
            const savedSoundSetting = localStorage.getItem('starCardsSoundEnabled');
            if (savedSoundSetting !== null) {
                isSoundEnabled = savedSoundSetting === 'true';
                updateSoundButton();
            }
            
            // å¦‚æœå†å²è®°å½•ä¸ºç©ºï¼Œæ˜¾ç¤ºæç¤º
            if (history.length === 0) {
                historyCardsContainer.innerHTML = `
                    <div class="history-card-empty" style="width:100%; text-align:center; color:#8888cc; font-style:italic; padding:40px 20px;">
                        <p>æš‚æ— å åœè®°å½•</p>
                        <p>è¿›è¡Œç¬¬ä¸€æ¬¡å åœå§</p>
                    </div>
                `;
            }
            
            // æ˜¾ç¤ºéŸ³æ•ˆæç¤º
            showSoundHint(isSoundEnabled ? "éŸ³æ•ˆå·²å¯ç”¨" : "éŸ³æ•ˆå·²å…³é—­");
            
            // æ·»åŠ ç”¨æˆ·äº¤äº’æ¿€æ´»éŸ³é¢‘ä¸Šä¸‹æ–‡
            document.addEventListener('click', function initAudio() {
                initAudioContext();
                document.removeEventListener('click', initAudio);
            });
        }
        
        // æ›´æ–°éŸ³æ•ˆæŒ‰é’®æ˜¾ç¤º
        function updateSoundButton() {
            const icon = soundToggle.querySelector('i');
            if (isSoundEnabled) {
                icon.className = 'fas fa-volume-up';
                soundToggle.style.color = '#aaaaff';
            } else {
                icon.className = 'fas fa-volume-mute';
                soundToggle.style.color = '#666688';
            }
            
            // ä¿å­˜è®¾ç½®åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('starCardsSoundEnabled', isSoundEnabled);
        }
        
        // æ˜¾ç¤ºéŸ³æ•ˆæç¤º
        function showSoundHint(message) {
            soundHint.textContent = message;
            soundHint.classList.add('show');
            
            setTimeout(() => {
                soundHint.classList.remove('show');
            }, 2000);
        }
        
        // æŠ½å–å¡ç‰Œ
        function drawCard() {
            if (isDrawing || isCardFlipped) return;
            
            isDrawing = true;
            drawButton.disabled = true;
            
            // éšæœºé€‰æ‹©ä¸€å¼ å¡ç‰Œ
            const randomIndex = Math.floor(Math.random() * cardData.length);
            const selectedCard = cardData[randomIndex];
            
            // æ›´æ–°å¡ç‰Œå†…å®¹
            cardSymbol.textContent = selectedCard.symbol;
            cardText.textContent = selectedCard.text;
            cardCategory.textContent = selectedCard.category;
            
            // éšæœºé€‰æ‹©å¡ç‰Œç±»å‹ï¼ˆç”¨äºä¸åŒé¢œè‰²æ ·å¼å’ŒéŸ³æ•ˆï¼‰
            const cardType = Math.floor(Math.random() * 5) + 1;
            card.className = `card card-type-${cardType}`;
            
            // æ’­æ”¾éŸ³æ•ˆ
            if (isSoundEnabled) {
                playFlipSound();
                playCardSound(cardType);
            }
            
            // æ·»åŠ æŠ½å¡åŠ¨ç”»
            card.classList.add('drawing');
            
            // ç¿»è½¬å¡ç‰Œ
            setTimeout(() => {
                card.classList.add('flipped');
                isCardFlipped = true;
                card.classList.remove('drawing');
                
                // ä¿å­˜åˆ°å†å²è®°å½•
                saveToHistory(selectedCard, cardType);
                
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                isDrawing = false;
                drawButton.disabled = false;
            }, 800);
        }
        
        // é‡ç½®å¡ç‰Œ
        function resetCard() {
            if (isDrawing) return;
            
            card.classList.remove('flipped');
            isCardFlipped = false;
            
            // æ’­æ”¾é‡ç½®éŸ³æ•ˆ
            if (isSoundEnabled) {
                playResetSound();
            }
        }
        
        // ä¿å­˜åˆ°å†å²è®°å½•
        function saveToHistory(cardData, cardType) {
            // åˆ›å»ºå†å²è®°å½•å¯¹è±¡
            const historyItem = {
                symbol: cardData.symbol,
                text: cardData.text,
                category: cardData.category,
                cardType: cardType,
                timestamp: new Date().toLocaleString(),
                id: Date.now() // ä½¿ç”¨æ—¶é—´æˆ³ä½œä¸ºå”¯ä¸€ID
            };
            
            // æ·»åŠ åˆ°å†å²è®°å½•æ•°ç»„
            history.unshift(historyItem);
            
            // é™åˆ¶å†å²è®°å½•æ•°é‡ï¼ˆæœ€å¤š12æ¡ï¼‰
            if (history.length > 12) {
                history = history.slice(0, 12);
            }
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('starCardsHistory', JSON.stringify(history));
            
            // æ›´æ–°å†å²è®°å½•æ˜¾ç¤º
            updateHistoryDisplay();
        }
        
        // æ›´æ–°å†å²è®°å½•æ˜¾ç¤º
        function updateHistoryDisplay() {
            // å¦‚æœå†å²è®°å½•ä¸ºç©ºï¼Œä¸æ›´æ–°
            if (history.length === 0) return;
            
            // æ¸…ç©ºå†å²è®°å½•å®¹å™¨
            historyCardsContainer.innerHTML = '';
            
            // æ·»åŠ å†å²è®°å½•å¡ç‰Œ
            history.forEach(item => {
                const historyCard = document.createElement('div');
                historyCard.className = 'history-card';
                historyCard.classList.add(`card-type-${item.cardType}`);
                historyCard.innerHTML = `
                    <div class="history-symbol">${item.symbol}</div>
                    <div class="history-text">${item.text.length > 30 ? item.text.substring(0, 30) + '...' : item.text}</div>
                    <div style="font-size:0.7rem; color:#8888cc;">${item.category}</div>
                `;
                
                // ç‚¹å‡»å†å²å¡ç‰Œå¯ä»¥æŸ¥çœ‹è¯¦æƒ…
                historyCard.addEventListener('click', () => {
                    cardSymbol.textContent = item.symbol;
                    cardText.textContent = item.text;
                    cardCategory.textContent = item.category;
                    card.className = `card card-type-${item.cardType}`;
                    
                    // æ’­æ”¾å¯¹åº”çš„éŸ³æ•ˆ
                    if (isSoundEnabled) {
                        playFlipSound();
                        setTimeout(() => {
                            playCardSound(item.cardType);
                        }, 350);
                    }
                    
                    // å¦‚æœå¡ç‰Œæœªç¿»è½¬ï¼Œå…ˆç¿»è½¬
                    if (!isCardFlipped) {
                        card.classList.add('flipped');
                        isCardFlipped = true;
                    }
                    
                    // æ»šåŠ¨åˆ°å¡ç‰Œä½ç½®
                    document.querySelector('.card-section').scrollIntoView({ behavior: 'smooth' });
                });
                
                historyCardsContainer.appendChild(historyCard);
            });
        }
        
        // äº‹ä»¶ç›‘å¬
        drawButton.addEventListener('click', drawCard);
        resetButton.addEventListener('click', resetCard);
        
        // éŸ³æ•ˆåˆ‡æ¢
        soundToggle.addEventListener('click', () => {
            isSoundEnabled = !isSoundEnabled;
            updateSoundButton();
            showSoundHint(isSoundEnabled ? "éŸ³æ•ˆå·²å¯ç”¨" : "éŸ³æ•ˆå·²å…³é—­");
        });
        
        // å¡ç‰Œç‚¹å‡»ä¹Ÿå¯ä»¥ç¿»è½¬ï¼ˆå¦‚æœå·²æŠ½å–ï¼‰
        card.addEventListener('click', () => {
            if (isCardFlipped && !isDrawing) {
                // å¦‚æœå¡ç‰Œå·²ç¿»è½¬ï¼Œç‚¹å‡»å¯ä»¥æŸ¥çœ‹èƒŒé¢
                resetCard();
            }
        });
        
        // åˆå§‹åŒ–é¡µé¢
        window.addEventListener('DOMContentLoaded', init);
        
        // æ·»åŠ ä¸€äº›åˆå§‹å†å²è®°å½•ï¼ˆå¦‚æœä¸ºç©ºï¼‰
        if (history.length === 0) {
            // æ·»åŠ 3ä¸ªç¤ºä¾‹è®°å½•
            const exampleCards = [
                { symbol: "â˜‰", text: "å¤ªé˜³ä¹‹å…‰å°†é©±æ•£é˜´éœ¾ï¼Œæ–°çš„å¼€å§‹å°±åœ¨çœ¼å‰", category: "å¸Œæœ›", cardType: 1 },
                { symbol: "ğŸŒŒ", text: "é“¶æ²³çš„æµ©ç€šæé†’ï¼šä½ çš„é—®é¢˜åœ¨å®‡å®™å°ºåº¦ä¸‹å¾®ä¸è¶³é“", category: "è§†è§’", cardType: 3 },
                { symbol: "ğŸŒˆ", text: "å½©è™¹çš„æ‰¿è¯ºï¼šå›°éš¾ä¹‹åå°†æœ‰ç¾å¥½ç­‰å¾…", category: "å¸Œæœ›", cardType: 1 }
            ];
            
            exampleCards.forEach(card => {
                saveToHistory(card, card.cardType);
            });
        }
        
        // æ·»åŠ é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
            // ç©ºæ ¼é”®æŠ½å–å¡ç‰Œ
            if (e.code === 'Space' && !isCardFlipped) {
                e.preventDefault();
                drawCard();
            }
            
            // Ré”®é‡ç½®å¡ç‰Œ
            if (e.code === 'KeyR' && isCardFlipped) {
                e.preventDefault();
                resetCard();
            }
            
            // Mé”®åˆ‡æ¢éŸ³æ•ˆ
            if (e.code === 'KeyM') {
                e.preventDefault();
                isSoundEnabled = !isSoundEnabled;
                updateSoundButton();
                showSoundHint(isSoundEnabled ? "éŸ³æ•ˆå·²å¯ç”¨ (Mé”®åˆ‡æ¢)" : "éŸ³æ•ˆå·²å…³é—­ (Mé”®åˆ‡æ¢)");
            }
        });
    </script>
</body>
</html>